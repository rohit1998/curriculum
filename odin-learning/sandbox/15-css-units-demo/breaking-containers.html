<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Units Demo - Step 5: Breaking the Container</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }

        /* Simulate a CMS or framework constraint */
        .site-wrapper {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .regular-content {
            margin: 20px 0;
            line-height: 1.6;
        }

        /* The magic trick for breaking out of containers */
        .full-width-section {
            margin-left: calc(50% - 50vw);
            margin-right: calc(50% - 50vw);
            padding: 60px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }

        .full-width-image {
            margin-left: calc(50% - 50vw);
            margin-right: calc(50% - 50vw);
            height: 300px;
            background: linear-gradient(45deg, #ff6b6b, #ffa500, #32cd32, #1e90ff);
            background-size: 400% 400%;
            animation: gradientShift 8s ease infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Demonstration of the problem without the trick */
        .contained-section {
            padding: 40px 20px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
            color: white;
            text-align: center;
            margin: 20px 0;
        }

        .explanation {
            background-color: #e8f4fd;
            padding: 20px;
            border-left: 4px solid #2196f3;
            margin: 30px 0;
        }

        .math-explanation {
            background-color: #fff8e1;
            padding: 20px;
            border-left: 4px solid #ff9800;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }

        /* Fluid aspect ratio demo */
        .aspect-ratio-container {
            margin-left: calc(50% - 50vw);
            margin-right: calc(50% - 50vw);
            width: 100vw;
            height: calc(100vw * (9/16)); /* 16:9 aspect ratio */
            max-height: calc(60em * (9/16));
            background: linear-gradient(45deg, #1e3c72, #2a5298);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: calc(1rem + 2vw);
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .grid-item {
            padding: 20px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
        }

        @media (max-width: 600px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .site-wrapper {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="site-wrapper">
        <h1>Breaking the Container with Viewport Units</h1>
        
        <div class="explanation">
            <h3>üéØ The Problem:</h3>
            <p>You're working with a CMS or framework that constrains your content to a fixed-width container (like this 800px wrapper), but you want some elements to break out and fill the full viewport width.</p>
            
            <h3>‚ú® The Solution:</h3>
            <p>Use the CSS-Tricks "breaking the container" technique with viewport units!</p>
        </div>

        <div class="regular-content">
            <h2>Regular Constrained Content</h2>
            <p>This paragraph is contained within the 800px wrapper, just like normal content. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        </div>

        <div class="contained-section">
            <h3>‚ùå Without the trick</h3>
            <p>This section is stuck within the container constraints. It can't break free!</p>
        </div>

        <div class="regular-content">
            <p>More regular content that stays within the container. Notice how the section above is trapped within the same boundaries as this text.</p>
        </div>
    </div>

    <!-- This breaks out of the container above! -->
    <div class="full-width-section">
        <h3>‚úÖ With the magic trick!</h3>
        <p>This section breaks completely free of the container constraints!</p>
        <p><strong>CSS:</strong> margin-left: calc(50% - 50vw); margin-right: calc(50% - 50vw);</p>
    </div>

    <div class="site-wrapper">
        <div class="math-explanation">
            <h3>üßÆ How the Math Works:</h3>
            <p><strong>margin-left: calc(50% - 50vw)</strong></p>
            <ul>
                <li>50% = half the parent container width (400px)</li>
                <li>50vw = half the viewport width (e.g., 600px on 1200px screen)</li>
                <li>calc(50% - 50vw) = calc(400px - 600px) = -200px</li>
                <li>Negative margin pulls the element 200px to the left</li>
                <li>Same calculation on the right pulls it 200px to the right</li>
                <li>Result: Element spans full viewport width! üéâ</li>
            </ul>
        </div>

        <div class="regular-content">
            <p>Back to regular constrained content. The trick works by using negative margins calculated from the difference between the container width and viewport width.</p>
        </div>
    </div>

    <!-- Full-width image demo -->
    <div class="site-wrapper">
        <div class="regular-content">
            <h2>Breaking Out: Full-Width Image</h2>
            <p>Here's another example with a full-width "image" (actually a gradient):</p>
        </div>
    </div>

    <div class="full-width-image">
        Full-Width Visual Element
    </div>

    <div class="site-wrapper">
        <div class="regular-content">
            <p>And we're back to constrained content. This technique is perfect for:</p>
            <ul>
                <li>Hero images that need to span full width</li>
                <li>Background sections that break out of content areas</li>
                <li>Call-to-action sections that need visual impact</li>
                <li>Image galleries or media that benefit from extra space</li>
            </ul>
        </div>
    </div>

    <!-- Bonus: Fluid aspect ratio demo -->
    <div class="site-wrapper">
        <div class="explanation">
            <h3>üéÅ Bonus: Fluid Aspect Ratio</h3>
            <p>Combining the container-breaking trick with fluid aspect ratios from the articles:</p>
        </div>
    </div>

    <div class="aspect-ratio-container">
        <div>
            <h3>16:9 Aspect Ratio</h3>
            <p>Width: 100vw</p>
            <p>Height: calc(100vw * (9/16))</p>
            <p>Always maintains perfect 16:9 ratio!</p>
        </div>
    </div>

    <div class="site-wrapper">
        <div class="content-grid">
            <div class="grid-item">
                <h4>üéØ Use Cases</h4>
                <ul>
                    <li>Static site generators</li>
                    <li>WordPress themes</li>
                    <li>Limited CMS control</li>
                    <li>Framework constraints</li>
                </ul>
            </div>
            <div class="grid-item">
                <h4>‚ö†Ô∏è Considerations</h4>
                <ul>
                    <li>Test on different screen sizes</li>
                    <li>Ensure content remains readable</li>
                    <li>Consider horizontal scrolling</li>
                    <li>Mobile responsiveness</li>
                </ul>
            </div>
        </div>

        <div class="explanation">
            <h3>üîë Key Takeaway</h3>
            <p>This technique gives you the power to break free from container constraints when you need visual impact, while keeping your main content properly constrained for readability. It's a perfect example of how viewport units solve real-world design problems!</p>
        </div>
    </div>
</body>
</html>
