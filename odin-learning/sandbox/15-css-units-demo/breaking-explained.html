<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building Up: Breaking the Container Explained</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0;
        }

        /* The constrained content container (like a blog or CMS) */
        .content-wrapper {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .step {
            margin: 30px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }

        .step h3 {
            color: #007bff;
            margin-top: 0;
        }

        /* Normal content that stays within container */
        .normal-content {
            background-color: #e3f2fd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            border: 2px solid #2196f3;
        }

        /* STEP 1: Show the problem - content stuck in container */
        .stuck-section {
            background-color: #ffcdd2;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
            border: 2px solid #f44336;
            border-radius: 5px;
        }

        /* STEP 2: The mathematical solution */
        .breaking-section {
            margin-left: calc(50% - 50vw);
            margin-right: calc(50% - 50vw);
            background: linear-gradient(135deg, #4caf50, #8bc34a);
            color: white;
            padding: 40px 20px;
            text-align: center;
            font-weight: bold;
        }

        /* Visual helpers to understand the math */
        .math-demo {
            background-color: #fff3e0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 2px solid #ff9800;
        }

        .math-demo h4 {
            color: #f57c00;
            margin-top: 0;
        }

        .visual-guide {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .guide-box {
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
        }

        .parent-box {
            background-color: #e1f5fe;
            border: 2px solid #0277bd;
        }

        .viewport-box {
            background-color: #f3e5f5;
            border: 2px solid #7b1fa2;
        }

        .highlight {
            background-color: #fff9c4;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 4px solid #fbc02d;
        }

        .code-snippet {
            background-color: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }

        .viewport-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            background-color: #333;
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            z-index: 1000;
        }

        /* Demo controls */
        .demo-controls {
            text-align: center;
            margin: 30px 0;
        }

        .demo-button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 16px;
        }

        .demo-button:hover {
            background-color: #0056b3;
        }

        /* Animation for the breaking effect */
        .animate-break {
            transition: margin-left 2s ease, margin-right 2s ease, background-color 1s ease;
        }

        .container-info {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0,0,0,0.8);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            z-index: 100;
        }
    </style>
</head>
<body>
    <div class="viewport-indicator" id="viewport-info">
        Viewport: <span id="viewport-size"></span>
    </div>

    <!-- This represents a typical blog/CMS layout -->
    <div class="content-wrapper">
        <h1>üîì Breaking the Container: Step by Step</h1>
        
        <div class="step">
            <h3>üéØ The Scenario</h3>
            <p>You're building a website with a CMS (like WordPress) or a framework that constrains your content to a fixed width (this container is 600px wide). But sometimes you want elements to break free and fill the full screen width!</p>
        </div>

        <div class="normal-content">
            <strong>Normal Content:</strong> This blue box stays within the 600px container, just like regular blog text or images.
        </div>

        <div class="step">
            <h3>‚ùå Step 1: The Problem</h3>
            <p>When you try to make something full-width, it gets stuck within the container:</p>
        </div>

        <div class="stuck-section" id="stuck-section">
            <h4>üò§ I'm Trapped!</h4>
            <p>This red section wants to be full-width, but it's stuck within the 600px container. No matter what width I set, I can't escape!</p>
        </div>

        <div class="step">
            <h3>üßÆ Step 2: Understanding the Math</h3>
            <p>The CSS-Tricks solution uses this magical formula:</p>
            
            <div class="code-snippet">
margin-left: calc(50% - 50vw);
margin-right: calc(50% - 50vw);</div>
            
            <p>Let's break down what this means:</p>
        </div>

        <div class="math-demo">
            <h4>Math Breakdown:</h4>
            <div class="visual-guide">
                <div class="guide-box parent-box">
                    <strong>50%</strong><br>
                    = Half of parent container<br>
                    = 300px (half of 600px)
                </div>
                <div class="guide-box viewport-box">
                    <strong>50vw</strong><br>
                    = Half of viewport width<br>
                    = <span id="half-viewport">?</span>px
                </div>
            </div>
            
            <div class="highlight">
                <strong>The Magic:</strong><br>
                <strong>calc(50% - 50vw)</strong> = calc(300px - <span id="half-viewport-2">?</span>px) = <strong><span id="margin-result">?</span>px</strong>
                <br><br>
                This negative margin pulls the element left by exactly the right amount to reach the viewport edge!
            </div>
        </div>

        <div class="step">
            <h3>‚ú® Step 3: See the Magic in Action</h3>
            <p>Click the button below to watch the breaking happen in slow motion:</p>
        </div>

        <div class="demo-controls">
            <button class="demo-button" onclick="animateBreaking()">üé¨ Animate the Breaking</button>
            <button class="demo-button" onclick="resetDemo()">üîÑ Reset</button>
        </div>

        <div class="normal-content">
            <strong>More Normal Content:</strong> Notice how the content above and below stays in place while only the special section breaks free.
        </div>
    </div>

    <!-- This will break out of the container -->
    <div class="breaking-section animate-break" id="breaking-section" style="margin-left: 0; margin-right: 0; background: linear-gradient(135deg, #f44336, #ff9800);">
        <h3>üéâ Freedom!</h3>
        <p>I broke free from the container and now span the full viewport width!</p>
        <p>Resize your browser to see how I always fill the full width.</p>
        <div style="background-color: rgba(255,255,255,0.2); padding: 15px; border-radius: 5px; margin-top: 20px;">
            <strong>Technical Details:</strong><br>
            Using margin-left: calc(50% - 50vw) and margin-right: calc(50% - 50vw)
        </div>
    </div>

    <div class="content-wrapper">
        <div class="normal-content">
            <strong>Back to Normal:</strong> And here we are, back within the constrained container. The breaking technique lets you selectively choose which elements escape!
        </div>

        <div class="step">
            <h3>üéØ Real-World Use Cases</h3>
            <ul>
                <li><strong>Hero Images:</strong> Full-width banners on blog posts</li>
                <li><strong>Call-to-Action Sections:</strong> Eye-catching full-width CTAs</li>
                <li><strong>Image Galleries:</strong> Giving photos more breathing room</li>
                <li><strong>Testimonials:</strong> Full-width quote sections</li>
                <li><strong>WordPress Themes:</strong> When you can't edit the HTML structure</li>
            </ul>
        </div>

        <div class="highlight">
            <strong>üí° The Big Insight:</strong><br>
            This technique gives you the power to break free from layout constraints when you need visual impact, while keeping your main content properly contained for readability. It's like having the best of both worlds!
        </div>
    </div>

    <script>
        function updateViewportInfo() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            document.getElementById('viewport-size').textContent = `${width}px √ó ${height}px`;
            
            // Update math calculations
            const halfViewport = Math.round(width / 2);
            const marginResult = 300 - halfViewport; // 50% of 600px container = 300px
            
            document.getElementById('half-viewport').textContent = halfViewport;
            document.getElementById('half-viewport-2').textContent = halfViewport;
            document.getElementById('margin-result').textContent = marginResult;
        }

        function animateBreaking() {
            const breakingSection = document.getElementById('breaking-section');
            
            // Reset to contained state
            breakingSection.style.marginLeft = '0';
            breakingSection.style.marginRight = '0';
            breakingSection.style.background = 'linear-gradient(135deg, #f44336, #ff9800)';
            
            // Wait a moment, then break free
            setTimeout(() => {
                breakingSection.style.marginLeft = 'calc(50% - 50vw)';
                breakingSection.style.marginRight = 'calc(50% - 50vw)';
                breakingSection.style.background = 'linear-gradient(135deg, #4caf50, #8bc34a)';
            }, 500);
        }

        function resetDemo() {
            const breakingSection = document.getElementById('breaking-section');
            breakingSection.style.marginLeft = '0';
            breakingSection.style.marginRight = '0';
            breakingSection.style.background = 'linear-gradient(135deg, #f44336, #ff9800)';
        }

        // Update on load and resize
        updateViewportInfo();
        window.addEventListener('resize', updateViewportInfo);
    </script>
</body>
</html>
